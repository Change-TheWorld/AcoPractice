# 基础

## JS组成

### 核心ECMAScript

提供核心语言功能，见阮一峰js 笔记

### 文档对象模型 DOM

提供访问和操作网页内容的方法和接口

是针对XML但经过拓展用于HTML的应用程序编程接口，把整个页面映射为一个多层节点结构。每个组成部分都是某种列席的节点，这些节点又包含着不同类型的数据。

借助DOM提供的API，开发人员可以轻松地删除，添加，替换或者修改任何节点

#### DOM级别

#### DOM 一级

分为 DOM核心（DOM core) 和 DOM HTML，

> DOM core: 规定如何映射给予XML的文档结构，以便简化对文档中任意部分的访问和操作。
> DOM HTML: 在DOM core 的基础上加以扩展，添加了针对 HTML 的对象和方法

#### DOM 二级

在原来的基础上，有扩充了鼠标和用户界面事件，范围，遍历（迭代DOM文档的方法）等细分模块，而且通过对象接口增加了对CSS的支持

DOM2 引入了下列新模块，也给出了众多新类型和新接口的定义

> DOM 视图 Views：定义了跟踪不同文档视图的接口。
> DOM 事件 Events：定义了事件和事件处理的接口。
> DOM 样式 Style：定义了给予CSS为元素应用样式的接口
> DOM 遍历和范围 Traversal and Range：定义了遍历和操作文档树的接口。

#### DOM 三级

DOM3 进一步扩展，

1. 引入了统一方式加载和保存文档的方法——在DOM 加载和保存(Load and Save) 模块中定义
2. 新增了验证文档的方法（在DOM 验证(Validation)模块中定义
3. 对DOM core进行了扩展，开始支持 XML1.0 规范，设计 XML Infoset、Xpath和XML Base。

> 可能会遇到DOM 0级，其实这种说法是不存在的，但是有些人认为 DOM 0级指的是 IE 4.0 最初支持的 DHTML。

#### 其他DOM 标准

1. SVG：可伸缩矢量图
2. MathML：数学标记语言
3. SMIL：同步多媒体继承语言

### 浏览器对象模型 BOM

提供与浏览器交互的方法和接口，BOM 处理浏览器窗口和框架，以及所有针对浏览器的JS扩展：如下

1. 弹出新浏览器窗口。
2. 移动、缩放和关闭浏览器窗口。
3. 提供浏览器详细信息的 navigator 对象。
4. 提供浏览器所加载页面的详细信息的 location 对象。
5. 提供用户显示器分辨率详细信息的 screen 对象。
6. 对cookies 的支持。
7. 像 XMLHttpRequest 和 IE 的 ActiveXObject 这样的对象。

## 需要注意的地方

1, `<script>` 标签，除了 src, charset, language, type之外，还有两个属性

> async: 表示应该立即下载脚本，但不应妨碍页面中的其他操作（比如下载其他资源或者等待加载其他脚本），只对外部脚本文件有效。
> defer: 表示脚本可以延迟到文档完全被解析和显示之后再执行，只对外部脚本文件有效。

2, 带src属性的 `<script>` 标签之间不应该在中间在包含额外的JS代码，否则那部分额外的JS代码会被忽略。

3, `<script>` 和 `<img>` 标签都可以用来请求跨域的资源，所以，如果想要包含来自不同域的代码，那么要么自己是域的所有者，要么该域的所有者值得信赖。

4, 只要不存在 async 和 defer 属性，浏览器就会按照`<script>`在页面出现的先后顺序依次解析。

5, `<script>` 最合适的位置应该放到`</body>`的上面一层。这样，在解析到JS代码之前，页面内容就已经全部加载完毕了。

6, XHTML: 可扩展超文本标记语言，比HTML严格很多，举个例子，

```html
<!-- 这段代码在HTML中不报错，但是在XHTML中不行，因为它会把 < 当成一个标签的起始标志，而标签的开始部分，之后不能跟空格，因此报错 -->
<script>
    function compare(a, b) {
        if(a < b) {
            console.log('a < b');
        }else if(a > b) {
            console.log('a > b');
        }else {
            console.log('a == b');
        }
    }
</script>

<!-- XHTML的写法 使用CData片段，它是文档中的一个特殊区域，可以包含不需要解析的任意格式的文本内容，加注释是因为有些浏览器不兼容XHTML，因而不支持CData片段，所以Hack一下，可以达到兼容的效果-->
<script>
//<![CDATA[
    function compare(a, b) {
        if(a < b) {
            console.log('a < b');
        }else if(a > b) {
            console.log('a > b');
        }else {
            console.log('a == b');
        }
    }
//]]>
</script>
```

7, 使用外部文件的好处

1. 可维护性：比起嵌入HTML 文件里，将所有JS文件放到一个文件夹下，更容易维护，而且，也能在不触及HTML代码的情况下，集中精力编辑JS代码。
2. 可缓存：浏览器会根据具体的设置缓存所有用到的外部JS文件，所以，如果有两个页面用到同一个文件，那么，该文件只需要下载一次就行，能提升页面的加载速度。
3. 兼容性： HTML和XHTML包含外部文件的语法是相同的，通过外部文件来包含JS，无需hack.

8,

9,

10,

11,

12,

13,

14,

15,

16,

17,

18,

19,

20,
